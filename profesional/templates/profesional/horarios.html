{% extends 'profesional/base_home.html' %}
{% load static %}

{% block styles %}
	<link rel="stylesheet" href="{% static 'profesional/css/horarios.css' %}">
{% endblock %}

{% block content %}
	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu bx-sm'></i>
			<div class="nav-title">
				<span>Horarios</span>
			</div>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Buscar por...">
					<button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
				</div>
			</form>
			
			<!-- Dark/Light Mode Toggle -->
			<input type="checkbox" class="checkbox" id="switch-mode" hidden />
			<label class="swith-lm" for="switch-mode">
				<i class="bx bxs-moon"></i>
				<i class="bx bx-sun"></i>
				<div class="ball"></div>
			</label>

			<!-- Profile Menu -->
			<a href="#" class="profile" id="profileIcon">
				<img src="https://ui-avatars.com/api/?name=Usuario&background=3C91E6&color=fff" alt="Profile">
			</a>
			<div class="profile-menu" id="profileMenu">
				<ul>
					<li><a href="{% url 'profesional:perfil_option' %}">Mi Perfil</a></li>
					<li><a href="{% url 'profesional:ajustes_option' %}">Ajustes</a></li>

					<li><a href="#">Cerrar Sesi√≥n</a></li>
				</ul>
			</div>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="schedule-container">
				<div class="schedule-layout">
					<!-- Left Sidebar -->
					<div class="schedule-sidebar">
						<h2 class="sidebar-title">Horarios</h2>
						
						<!-- Calendar Navigation -->
						<div class="calendar-nav">
							<button class="nav-btn" id="prevMonth">
								<i class='bx bx-chevron-left'></i>
							</button>
							<span class="current-month" id="currentMonth">Mayo 2025</span>
							<button class="nav-btn" id="nextMonth">
								<i class='bx bx-chevron-right'></i>
							</button>
						</div>

						<!-- Mini Calendar -->
						<div class="mini-calendar">
							<div class="calendar-weekdays">
								<span>Lun</span>
								<span>Mar</span>
								<span>Mie</span>
								<span>Jue</span>
								<span>Vie</span>
								<span>Sab</span>
								<span>Dom</span>
							</div>
							<div class="calendar-days" id="calendarDays">
								<!-- Generated by JavaScript -->
							</div>
						</div>

						<!-- Action Buttons -->
						<div class="sidebar-actions">
							<button class="action-btn btn-block">
								<i class='bx bx-lock'></i>
								<span>Bloquear fechas</span>
							</button>
							<button class="action-btn btn-absence">
								<i class='bx bx-calendar-x'></i>
								<span>Citas presenciales</span>
							</button>
							<button class="action-btn btn-virtual">
								<i class='bx bx-video'></i>
								<span>Citas virtuales</span>
							</button>
						</div>
					</div>

					<!-- Main Schedule View -->
					<div class="schedule-main">
						<!-- Week Navigation -->
						<div class="week-header">
							<button class="week-nav-btn" id="prevWeek">
								<i class='bx bx-chevron-left'></i>
							</button>
							<div class="week-info">
								<span class="week-label">Esta semana</span>
								<span class="week-range" id="weekRange">05 - 16 mayo, 2025</span>
							</div>
							<button class="week-nav-btn" id="nextWeek">
								<i class='bx bx-chevron-right'></i>
							</button>
						</div>

						<!-- Week Days Grid -->
						<div class="week-days-grid">
							<div class="day-column">
								<div class="day-header">
									<span class="day-name">Lun</span>
									<span class="day-number">12</span>
								</div>
							</div>
							<div class="day-column">
								<div class="day-header">
									<span class="day-name">Mar</span>
									<span class="day-number">13</span>
								</div>
							</div>
							<div class="day-column">
								<div class="day-header">
									<span class="day-name">Mie</span>
									<span class="day-number">14</span>
								</div>
							</div>
							<div class="day-column">
								<div class="day-header">
									<span class="day-name">Jue</span>
									<span class="day-number">15</span>
								</div>
							</div>
							<div class="day-column active">
								<div class="day-header">
									<span class="day-name">Vie</span>
									<span class="day-number">16</span>
								</div>
							</div>
							<div class="day-column">
								<div class="day-header">
									<span class="day-name">Sab</span>
									<span class="day-number">17</span>
								</div>
							</div>
						</div>

						<!-- Time Slots Grid -->
						<div class="schedule-grid">
							<div class="time-column">
								<div class="time-slot">09:00</div>
								<div class="time-slot">09:30</div>
								<div class="time-slot">10:00</div>
								<div class="time-slot">10:30</div>
								<div class="time-slot">11:00</div>
								<div class="time-slot">11:30</div>
								<div class="time-slot">12:00</div>
								<div class="time-slot">12:30</div>
								<div class="time-slot">13:00</div>
								<div class="time-slot">13:30</div>
								<div class="time-slot">14:00</div>
								<div class="time-slot">14:30</div>
							</div>

							<div class="slots-container">
								<!-- Monday -->
								<div class="day-slots"></div>
								<!-- Tuesday -->
								<div class="day-slots"></div>
								<!-- Wednesday -->
								<div class="day-slots"></div>
								<!-- Thursday -->
								<div class="day-slots"></div>
								<!-- Friday -->
								<div class="day-slots"></div>
								<!-- Saturday -->
								<div class="day-slots"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->

	<!-- Modal para crear cita -->
	<div class="modal" id="appointmentModal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Nueva Cita</h3>
				<button class="modal-close" id="closeModal">
					<i class='bx bx-x'></i>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label>Cliente</label>
					<input type="text" placeholder="Nombre del cliente" class="form-control">
				</div>
				<div class="form-group">
					<label>Fecha y hora</label>
					<input type="datetime-local" class="form-control">
				</div>
				<div class="form-group">
					<label>Tipo de cita</label>
					<select class="form-control">
						<option>Presencial</option>
						<option>Virtual</option>
					</select>
				</div>
				<div class="form-group">
					<label>Notas</label>
					<textarea class="form-control" rows="3" placeholder="Notas adicionales..."></textarea>
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-secondary" id="cancelModal">Cancelar</button>
				<button class="btn btn-primary">Guardar</button>
			</div>
		</div>
	</div>
{% endblock %}

{% block scripts %}
	<script src="{% static 'profesional/js/horarios.js' %}"></script>
{% endblock %}